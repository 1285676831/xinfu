<script src="${def:context}/js/echarts-2.2.7/liquidfill/echarts.js" type="text/javascript"></script>
<script src="${def:context}/js/echarts-2.2.7/liquidfill/echarts-liquidfill.min.js" type="text/javascript"></script>
<script src="${def:context}/js/project/fitness/js/report/echarts-liquidfill-util.js" type="text/javascript"></script>

<script src="${def:context}/js/echarts-2.2.7/build/dist/echarts.js" type="text/javascript"></script>
<script src="${def:context}/js/echarts-2.2.7/build/dist/chart/line.js" type="text/javascript"></script>
<script src="${def:context}/js/project/fitness/js/report/base-charts.js" type="text/javascript"></script>

<script type="text/javascript" src="${def:context}/js/project/fitness/js/main.js"></script>
<div class="r-index	">
	<section class="r-i-1" >
		<div class="home-a-title">本月售课业绩</div>
		<div id="ptsaleDiv" style="float:left ;width:60%;height:100%;margin-top:-20px;margin-left: 5%"></div>
		<div class="home-a-right">
			<div class="divs" style="margin-top: 75px">本月业绩计</div>
			<div class="divs" id="saleFee"></div>
			<div class="divs"style="margin-top: 30px">完成百分比</div>
			<div class="divs" style="color: rgba(51,143,226,1)" id="saleRate"></div>
		</div>
	</section>
	
	<section class="r-i-2">
		<article class="r-i-2-1">
			<p class="title">本月上课课时</p>
			<div class="keshi">
				<span id="monthFinishNum"></span>课时
			</div>
			<p></p>
			<div class="tprogress">
				<!-- margin-left (数值 - 5)% -->
				<p id="monthFinishRate"></p>
				<div class="am-progress am-active am-progress-striped">
					<div class="am-progress-bar am-progress-bar-danger" id="monthFinishProgress"></div>
				</div>
			</div>
		</article>
		<article class="r-i-2-2">
			<p class="title smallpersontitle">本人私教会员</p>
			<div class="keshi smallperson">
				<span id="todayFinishNum"></span>人
			</div>
			<p></p>
			<div class="tprogress">
				<!-- margin-left (数值 - 5)% -->
				<p id="todayFinishRate"></p>
				<div class="am-progress am-active am-progress-striped">
					<div class="am-progress-bar am-progress-bar-success" id="todayFinishProgress"></div>
				</div>
			</div>
		</article>
		<article class="r-i-2-3">
			<p class="title smallpersontitle">本人私教资源</p>
			<div class="keshi smallperson">
				<span id="testFinishNum">1</span>人
			</div>
			<p></p>
			<div class="tprogress">
				<!-- margin-left (数值 - 5)% -->
				<p id="testFinishRate"></p>
				<div class="am-progress am-active am-progress-striped">
					<div class="am-progress-bar" id="testFinishProgress"></div>
				</div>
			</div>
		</article>
		<article class="r-i-2-4">
			<p class="title smallpersontitle">今日课程预约</p>
			<div class="keshi smallperson">
				<span id="guestNum"></span>人
			</div>
			<p></p>
			<div class="tprogress">
				<!-- margin-left (数值 - 5)% -->
				<p id="guestRate"></p>
				<div class="am-progress am-active am-progress-striped">
					<div class="am-progress-bar am-progress-bar-secondary" id="guestProgress"></div>
				</div>
			</div>
		</article>
	</section>
	
	<section class="r-i-3">
		<div id="ptDiv" style="width:100%;height:70%;"></div>
		<div class="divs" >
			<div class="divs-left">上课课时</div>
			<div class="divs-right" id="pttotal"></div>
		</div>
	</section>
	
	<section class="r-i-4">
		<button class="r-i-set" type="button" id="quickmenu_btn"></button>
	</section>
	
	<section class="r-i-7">
		<header>
			今日跟进提醒
			<span class="count" id="commcount"></span>
			<p class="right"></p>
		</header>
		<article class="r-tab-cout-3-b">
			<table class="">
				<tbody id="commnexttime">
				</tbody>
			</table>
		</article>
	</section>
	<section class="r-i-6 long">
		<header>
			潜在资源
			<span class="count" id="rescount"></span>
			<p class="right"></p>
		</header>
		<div class="bot" id="reshtml">
		</div>

	</section>
</div>

<script type="text/javaScript">
	$(document).ready(function() {
		
		var fdate = new Date().format("yyyy-MM-01");
		var tdate = new Date().format("yyyy-MM-dd");
		// 本月销售业绩+课时+资源
		getAjaxCall("${def:actionroot}/pt/loadtarget", false);
		// 私教签课
		getAjaxCall("${def:actionroot}/pt/loadpt?fdate="+fdate+"&tdate="+tdate, false);
		var targetyear = new Date().format("yyyy");
		var targetmonth = new Date().format("MM");
		
		// 私教今日提醒
		getAjaxCall("${def:actionroot}/pt/commnexttime", false);
		
	});
	function getRateProgressMargin(rate){
		return (rate >= 90 ? 85 : (rate <= 5 ? 0 : rate - 5));
	}
</script>
